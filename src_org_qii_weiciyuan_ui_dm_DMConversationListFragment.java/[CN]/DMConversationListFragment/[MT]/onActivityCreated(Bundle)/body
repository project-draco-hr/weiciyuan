{
  super.onActivityCreated(savedInstanceState);
  setHasOptionsMenu(true);
  setRetainInstance(true);
switch (getCurrentState(savedInstanceState)) {
case FIRST_TIME_START:
    getPullToRefreshListView().startRefreshNow();
  break;
case SCREEN_ROTATE:
refreshLayout(getList());
break;
case ACTIVITY_DESTROY_AND_CREATE:
getList().addNewData((DMListBean)savedInstanceState.getSerializable("bean"));
userBean=(UserBean)savedInstanceState.getSerializable("userBean");
page=savedInstanceState.getInt("page");
getAdapter().notifyDataSetChanged();
refreshLayout(bean);
break;
}
}
