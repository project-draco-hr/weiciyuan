{
  Drawable drawable=imageView.getDrawable();
  Bitmap bitmap=null;
  if (drawable instanceof BitmapDrawable) {
    bitmap=((BitmapDrawable)drawable).getBitmap();
  }
  Rect rect=new Rect();
  boolean result=imageView.getGlobalVisibleRect(rect);
  boolean checkWidth=rect.width() < imageView.getWidth();
  boolean checkHeight=rect.height() < imageView.getHeight();
  boolean clipped=!result || checkWidth || checkHeight;
  if (bitmap != null && !clipped) {
    int bitmapWidth=bitmap.getWidth();
    int bitmapHeight=bitmap.getHeight();
    int imageViewWidth=imageView.getWidth() - imageView.getPaddingLeft() - imageView.getPaddingRight();
    int imageviewHeight=imageView.getHeight() - imageView.getPaddingTop() - imageView.getPaddingBottom();
    float startScale;
    if ((float)imageViewWidth / bitmapWidth > (float)imageviewHeight / bitmapHeight) {
      startScale=(float)imageviewHeight / bitmapHeight;
    }
 else {
      startScale=(float)imageViewWidth / bitmapWidth;
    }
    bitmapHeight=(int)(bitmapHeight * startScale);
    bitmapWidth=(int)(bitmapWidth * startScale);
    int deltaX=(imageViewWidth - bitmapWidth) / 2;
    int deltaY=(imageviewHeight - bitmapHeight) / 2;
    rect.set(rect.left + deltaX,rect.top + deltaY,rect.right - deltaX,rect.bottom - deltaY);
    return rect;
  }
 else {
    return null;
  }
}
