{
  super.onActivityCreated(savedInstanceState);
  commander=((AbstractAppActivity)getActivity()).getCommander();
  ((BrowserWeiboMsgActivity)getActivity()).setRepostFragment(this);
  ((BrowserWeiboMsgActivity)getActivity()).setRepostListView(listView);
  if (savedInstanceState != null && bean.getReposts().size() == 0) {
    clearAndReplaceValue((RepostListBean)savedInstanceState.getSerializable("bean"));
    token=savedInstanceState.getString("token");
    id=savedInstanceState.getString("id");
    msg=(MessageBean)savedInstanceState.getSerializable("msg");
    timeLineAdapter.notifyDataSetChanged();
    refreshLayout(bean);
  }
  listView.setChoiceMode(AbsListView.CHOICE_MODE_SINGLE);
  listView.setOnItemLongClickListener(new AdapterView.OnItemLongClickListener(){
    @Override public boolean onItemLongClick(    AdapterView<?> parent,    View view,    int position,    long id){
      if (position - 1 < getList().getSize() && position - 1 >= 0) {
        if (mActionMode != null) {
          mActionMode.finish();
          mActionMode=null;
          listView.setItemChecked(position,true);
          timeLineAdapter.notifyDataSetChanged();
          mActionMode=getActivity().startActionMode(new RepostSingleChoiceModeListener(listView,timeLineAdapter,RepostsByIdTimeLineFragment.this,quick_repost,bean.getReposts().get(position - 1)));
          return true;
        }
 else {
          listView.setItemChecked(position,true);
          timeLineAdapter.notifyDataSetChanged();
          mActionMode=getActivity().startActionMode(new RepostSingleChoiceModeListener(listView,timeLineAdapter,RepostsByIdTimeLineFragment.this,quick_repost,bean.getReposts().get(position - 1)));
          return true;
        }
      }
      return false;
    }
  }
);
}
