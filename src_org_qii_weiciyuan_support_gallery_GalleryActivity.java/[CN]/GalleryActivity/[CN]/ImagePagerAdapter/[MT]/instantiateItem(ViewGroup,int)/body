{
  View contentView=inflater.inflate(R.layout.galleryactivity_item,view,false);
  String path=FileManager.getFilePathFromUrl(urls.get(position),FileLocationMethod.picture_large);
  if (ImageTool.isThisBitmapCanRead(path)) {
    ImageView imageView=(ImageView)contentView.findViewById(R.id.image);
    Bitmap bitmap=ImageTool.decodeBitmapFromSDCard(path,-1,-1);
    imageView.setImageBitmap(bitmap);
    bindImageViewLongClickListener(imageView,urls.get(position),path);
  }
 else   if (Utility.isWifi(GalleryActivity.this)) {
    ImageView imageView=(ImageView)contentView.findViewById(R.id.image);
    imageView.setVisibility(View.INVISIBLE);
    final CircleProgressView spinner=(CircleProgressView)contentView.findViewById(R.id.loading);
    spinner.setVisibility(View.VISIBLE);
    if (taskMap.get(urls.get(position)) == null) {
      PicSimpleBitmapWorkerTask task=new PicSimpleBitmapWorkerTask(imageView,spinner,urls.get(position),taskMap);
      taskMap.put(urls.get(position),task);
      task.executeOnExecutor(MyAsyncTask.THREAD_POOL_EXECUTOR);
    }
 else {
      PicSimpleBitmapWorkerTask task=taskMap.get(urls.get(position));
      task.setWidget(imageView,spinner);
    }
  }
  ((ViewPager)view).addView(contentView,0);
  return contentView;
}
