{
  if (!ImageTool.isThisBitmapCanRead(bitmapPath)) {
    Toast.makeText(GalleryActivity.this,R.string.download_finished_but_cant_read_picture_file,Toast.LENGTH_SHORT).show();
  }
  imageView.setVisibility(View.VISIBLE);
  boolean isThisBitmapTooLarge=ImageTool.isThisBitmapTooLargeToRead(bitmapPath);
  if (isThisBitmapTooLarge) {
    Toast.makeText(GalleryActivity.this,R.string.picture_is_too_large_so_enable_software_layer,Toast.LENGTH_LONG).show();
  }
  if (isThisBitmapTooLarge) {
    imageView.setLayerType(View.LAYER_TYPE_SOFTWARE,null);
    PhotoView photoView=(PhotoView)imageView;
    photoView.setMaxScale(15);
  }
  Bitmap bitmap=null;
  try {
    bitmap=ImageTool.decodeBitmapFromSDCard(bitmapPath,-1,-1);
  }
 catch (  OutOfMemoryError ignored) {
  }
  imageView.setImageBitmap(bitmap);
  bindImageViewLongClickListener(imageView,url,bitmapPath);
}
