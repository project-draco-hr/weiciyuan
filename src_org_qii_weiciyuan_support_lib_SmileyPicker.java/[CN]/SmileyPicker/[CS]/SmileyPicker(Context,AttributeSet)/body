{
  super(paramContext,paramAttributeSet);
  this.mInflater=LayoutInflater.from(paramContext);
  GridView gridView=(GridView)this.mInflater.inflate(R.layout.writeweiboactivity_smileypicker,null);
  addView(gridView);
  gridView.setAdapter(new SmileyAdapter(paramContext));
  gridView.setOnItemClickListener(new AdapterView.OnItemClickListener(){
    @Override public void onItemClick(    AdapterView<?> parent,    View view,    int position,    long id){
      String ori=mEditText.getText().toString();
      int index=mEditText.getSelectionStart();
      StringBuilder stringBuilder=new StringBuilder(ori);
      stringBuilder.insert(index,keys.get(position));
      mEditText.setText(stringBuilder.toString());
      mEditText.setSelection(index + keys.get(position).length());
    }
  }
);
}
