{
  if (filter != null) {
    url=filter.transformUrl(m,url);
  }
  boolean hasPrefix=false;
  for (int i=0; i < prefixes.length; i++) {
    if (url.regionMatches(true,0,prefixes[i],0,prefixes[i].length())) {
      hasPrefix=true;
      if (!url.regionMatches(false,0,prefixes[i],0,prefixes[i].length())) {
        url=prefixes[i] + url.substring(prefixes[i].length());
      }
      break;
    }
  }
  if (!hasPrefix) {
    url=prefixes[0] + url;
  }
  return url;
}
