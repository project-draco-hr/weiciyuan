{
  mState=REFRESHING;
  if (mMode.canPullDown()) {
    mHeaderLayout.refreshing();
  }
  if (mMode.canPullUp()) {
    mFooterLayout.refreshing();
  }
  if (doScroll) {
    if (mShowViewWhileRefreshing) {
      smoothScrollTo(mCurrentMode == Mode.PULL_DOWN_TO_REFRESH ? -mHeaderHeight : mHeaderHeight);
    }
 else {
      smoothScrollTo(0);
    }
  }
}
