{
  View view=inflater.inflate(R.layout.gallery_container_layout,container,false);
  CircleProgressView progressView=(CircleProgressView)view.findViewById(R.id.loading);
  TextView wait=(TextView)view.findViewById(R.id.wait);
  TextView error=(TextView)view.findViewById(R.id.error);
  String url=getArguments().getString("url");
  boolean animateIn=getArguments().getBoolean("animationIn");
  String path=FileManager.getFilePathFromUrl(url,FileLocationMethod.picture_large);
  if (ImageUtility.isThisBitmapCanRead(path) && taskMap.get(url) == null && TaskCache.isThisUrlTaskFinished(url)) {
    displayPicture(path,animateIn);
  }
 else {
    GalleryAnimationActivity activity=(GalleryAnimationActivity)getActivity();
    activity.showBackgroundImmediately();
    progressView.setVisibility(View.VISIBLE);
    if (taskMap.get(url) == null) {
      PicSimpleBitmapWorkerTask task=new PicSimpleBitmapWorkerTask(this,progressView,wait,error,url,taskMap);
      taskMap.put(url,task);
      task.executeOnExecutor(MyAsyncTask.THREAD_POOL_EXECUTOR);
      wait.setVisibility(View.VISIBLE);
    }
 else {
      PicSimpleBitmapWorkerTask task=taskMap.get(url);
      task.bind(this,progressView,wait,error);
    }
  }
  return view;
}
