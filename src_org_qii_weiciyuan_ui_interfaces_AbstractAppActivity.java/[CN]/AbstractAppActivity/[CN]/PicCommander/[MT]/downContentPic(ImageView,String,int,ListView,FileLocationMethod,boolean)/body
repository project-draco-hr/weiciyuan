{
  final Bitmap bitmap=getBitmapFromMemCache(urlKey);
  if (bitmap != null) {
switch (method) {
case picture_thumbnail:
      if (!isSameUrl(urlKey,view)) {
        view.setImageBitmap(bitmap);
        view.setTag(urlKey);
      }
    cancelPotentialDownload(urlKey,view);
  pictureBitmapWorkerTaskMap.remove(urlKey);
break;
case picture_bmiddle:
if (!isSameUrl(urlKey,view)) {
view.setImageBitmap(bitmap);
view.setTag(urlKey);
}
cancelPotentialDownload(urlKey,view);
pictureBitmapWorkerTaskMap.remove(urlKey);
break;
}
}
 else {
switch (method) {
case picture_thumbnail:
view.setImageDrawable(transPic);
break;
case picture_bmiddle:
view.setImageDrawable(transPic);
break;
}
if (cancelPotentialDownload(urlKey,view) && !isFling) {
PictureBitmapWorkerTask task=new PictureBitmapWorkerTask(GlobalContext.getInstance().getAvatarCache(),pictureBitmapWorkerTaskMap,view,urlKey,position,AbstractAppActivity.this,method);
PictureBitmapDrawable downloadedDrawable=new PictureBitmapDrawable(task);
view.setImageDrawable(downloadedDrawable);
task.executeOnExecutor(MyAsyncTask.THREAD_POOL_EXECUTOR);
pictureBitmapWorkerTaskMap.put(urlKey,task);
}
}
}
