{
  super.onCreate(savedInstanceState);
  buildInterface();
  Intent intent=getIntent();
  String action=intent.getAction();
  String type=intent.getType();
  if (Intent.ACTION_SEND.equals(action) && type != null) {
    if ("text/plain".equals(type)) {
      handleSendText(intent);
    }
 else     if (type.startsWith("image/")) {
      handleSendImage(intent);
    }
  }
 else {
    handleNormalOperation(intent);
  }
  if (savedInstanceState != null) {
    picPath=savedInstanceState.getString("picPath");
    if (!TextUtils.isEmpty(picPath))     enablePicture();
    geoBean=(GeoBean)savedInstanceState.getSerializable("geoBean");
    location=savedInstanceState.getString("location");
    if (geoBean != null && !TextUtils.isEmpty(location))     enableGeo();
 else     disableGeo();
    imageFileUri=savedInstanceState.getParcelable("imageFileUri");
  }
}
