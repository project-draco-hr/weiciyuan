{
  super.onActivityResult(requestCode,resultCode,intent);
  if (resultCode == RESULT_OK) {
switch (requestCode) {
case CAMERA_RESULT:
      if (TextUtils.isEmpty(content.getText().toString())) {
        content.setText(getString(R.string.share_pic));
        content.setSelection(content.getText().toString().length());
      }
    picPath=Utility.getPicPathFromUri(imageFileUri,this);
  enablePicture();
break;
case PIC_RESULT:
if (TextUtils.isEmpty(content.getText().toString())) {
content.setText(getString(R.string.share_pic));
content.setSelection(content.getText().toString().length());
}
Uri imageFileUri=intent.getData();
picPath=Utility.getPicPathFromUri(imageFileUri,this);
enablePicture();
break;
case AT_USER:
String name=intent.getStringExtra("name");
String ori=content.getText().toString();
int index=content.getSelectionStart();
StringBuilder stringBuilder=new StringBuilder(ori);
stringBuilder.insert(index,name);
content.setText(stringBuilder.toString());
content.setSelection(index + name.length());
break;
case BROWSER_PIC:
boolean deleted=intent.getBooleanExtra("deleted",false);
if (deleted) {
deletePicture();
}
break;
}
}
}
