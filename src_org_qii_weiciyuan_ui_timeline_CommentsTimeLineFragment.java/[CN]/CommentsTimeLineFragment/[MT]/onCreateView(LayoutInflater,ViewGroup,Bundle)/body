{
  View view=inflater.inflate(R.layout.fragment_listview_layout,container,false);
  listView=(ListView)view.findViewById(R.id.listView);
  listView.setScrollingCacheEnabled(false);
  View footerView=inflater.inflate(R.layout.fragment_listview_footer_layout,null);
  listView.addFooterView(footerView);
  timeLineAdapter=new TimeLineAdapter();
  listView.setAdapter(timeLineAdapter);
  listView.setOnScrollListener(new AbsListView.OnScrollListener(){
    @Override public void onScrollStateChanged(    AbsListView view,    int scrollState){
switch (scrollState) {
case AbsListView.OnScrollListener.SCROLL_STATE_IDLE:
        if (view.getLastVisiblePosition() == (view.getCount() - 1)) {
          scrollToBottom();
        }
      position=view.getFirstVisiblePosition();
    break;
case AbsListView.OnScrollListener.SCROLL_STATE_FLING:
  break;
case AbsListView.OnScrollListener.SCROLL_STATE_TOUCH_SCROLL:
break;
}
}
@Override public void onScroll(AbsListView view,int firstVisibleItem,int visibleItemCount,int totalItemCount){
}
}
);
listView.setOnItemLongClickListener(new AdapterView.OnItemLongClickListener(){
@Override public boolean onItemLongClick(AdapterView<?> parent,View view,int position,long id){
listViewItemLongClick(parent,view,position,id);
return true;
}
}
);
listView.setOnItemClickListener(new AdapterView.OnItemClickListener(){
@Override public void onItemClick(AdapterView<?> parent,View view,int position,long id){
if (position < getList().getComments().size()) {
listViewItemClick(parent,view,position,id);
}
 else {
listViewFooterViewClick(view);
}
}
}
);
return view;
}
