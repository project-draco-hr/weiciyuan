{
  String result="";
  try {
    HttpClient client=getNewHttpClient(context);
    HttpUriRequest request=null;
    ByteArrayOutputStream bos=null;
    url=url + "?" + encodeUrl(params);
    HttpGet get=new HttpGet(url);
    request=get;
    setHeader(method,request,params,url,token);
    HttpResponse response=client.execute(request);
    StatusLine status=response.getStatusLine();
    int statusCode=status.getStatusCode();
    if (statusCode != 200) {
      result=read(response);
      String err=null;
      int errCode=0;
      try {
        JSONObject json=new JSONObject(result);
        err=json.getString("error");
        errCode=json.getInt("error_code");
      }
 catch (      JSONException e) {
        e.printStackTrace();
      }
      throw new WeiboException(String.format(err),errCode);
    }
    result=read(response);
    return result;
  }
 catch (  IOException e) {
    throw new WeiboException(e);
  }
}
