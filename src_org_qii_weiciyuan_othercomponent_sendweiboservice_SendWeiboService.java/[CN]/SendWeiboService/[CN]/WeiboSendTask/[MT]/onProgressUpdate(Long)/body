{
  if (values.length > 0) {
    long data=values[0];
    double r=data / (double)size;
    if (Math.abs(r - lastStatus) < 0.01d) {
      return;
    }
    lastStatus=r;
    Notification.Builder builder=new Notification.Builder(SendWeiboService.this).setTicker(getString(R.string.send_photo)).setContentTitle(getString(R.string.background_sending)).setNumber((int)(r * 100)).setContentText(content).setProgress((int)size,(int)data,false).setOnlyAlertOnce(true).setOngoing(true).setSmallIcon(R.drawable.upload_white);
    if (android.os.Build.VERSION.SDK_INT >= Build.VERSION_CODES.JELLY_BEAN) {
      builder.addAction(R.drawable.send_failed,getString(R.string.cancel),pendingIntent);
      notification=builder.build();
    }
 else {
      notification=builder.getNotification();
    }
    NotificationManager notificationManager=(NotificationManager)getApplicationContext().getSystemService(NOTIFICATION_SERVICE);
    notificationManager.notify(tasksNotifications.get(WeiboSendTask.this),notification);
  }
}
