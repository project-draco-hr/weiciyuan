{
  super.onCreate(savedInstanceState);
  addPreferencesFromResource(R.xml.about_pref);
  findPreference(SettingActivity.SUGGEST).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener(){
    @Override public boolean onPreferenceClick(    Preference preference){
      Intent intent=new Intent(getActivity(),WriteWeiboActivity.class);
      intent.putExtra("token",GlobalContext.getInstance().getSpecialToken());
      intent.putExtra("account",GlobalContext.getInstance().getAccountBean());
      intent.putExtra("content",buildContent());
      startActivity(intent);
      return true;
    }
  }
);
  findPreference(SettingActivity.OFFICIAL_WEIBO).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener(){
    @Override public boolean onPreferenceClick(    Preference preference){
      UserBean bean=new UserBean();
      bean.setScreen_name(getString(R.string.official_weibo_link));
      String token=GlobalContext.getInstance().getSpecialToken();
      Intent intent=new Intent(getActivity(),UserInfoActivity.class);
      intent.putExtra("token",token);
      intent.putExtra("user",bean);
      startActivity(intent);
      return true;
    }
  }
);
  findPreference(SettingActivity.RECOMMEND).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener(){
    @Override public boolean onPreferenceClick(    Preference preference){
      Intent intent=new Intent(getActivity(),WriteWeiboActivity.class);
      intent.putExtra("token",GlobalContext.getInstance().getSpecialToken());
      intent.putExtra("account",GlobalContext.getInstance().getAccountBean());
      intent.putExtra("content",getString(R.string.recommend_content));
      startActivity(intent);
      return true;
    }
  }
);
  findPreference(SettingActivity.VERSION).setSummary(buildVersionInfo());
  findPreference(SettingActivity.DONATE).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener(){
    @Override public boolean onPreferenceClick(    Preference preference){
      Toast.makeText(getActivity(),getString(R.string.donate_summary2),Toast.LENGTH_SHORT).show();
      return true;
    }
  }
);
}
