{
  super.onPreExecute();
  layout.location.setVisibility(View.VISIBLE);
  layout.location.setText(String.valueOf(geoBean.getLat() + "," + geoBean.getLon()));
  if (Utility.isGooglePlaySafe(getActivity())) {
    layout.mapView.setVisibility(View.VISIBLE);
    GoogleMap mMap=layout.mapView.getMap();
    if (mMap != null) {
      final LatLng MELBOURNE=new LatLng(geoBean.getLat(),geoBean.getLon());
      Marker melbourne=mMap.addMarker(new MarkerOptions().position(MELBOURNE));
      LatLng latLng=new LatLng(geoBean.getLat(),geoBean.getLon());
      CameraUpdate update=CameraUpdateFactory.newLatLng(latLng);
      mMap.moveCamera(update);
      mMap.setOnMapClickListener(new GoogleMap.OnMapClickListener(){
        @Override public void onMapClick(        LatLng latLng){
          GeoBean bean=msg.getGeo();
          Intent intent=new Intent(getActivity(),AppMapActivity.class);
          intent.putExtra("lat",bean.getLat());
          intent.putExtra("lon",bean.getLon());
          if (!String.valueOf(bean.getLat() + "," + bean.getLon()).equals(layout.location.getText()))           intent.putExtra("locationStr",layout.location.getText());
          startActivity(intent);
        }
      }
);
    }
  }
 else {
    layout.mapView.setVisibility(View.GONE);
  }
}
