{
  Map<String,Integer> map=new HashMap<String,Integer>();
  List<AccountBean> accountBeans=DatabaseManager.getInstance().getAccountList();
  if (accountBeans.size() == 0) {
    cancel(true);
    return null;
  }
  accountBean=accountBeans.get(0);
  String accountId=accountBean.getUid();
  String token=accountBean.getAccess_token();
  CommentListBean commentLineBean=DatabaseManager.getInstance().getCommentLineMsgList(accountId);
  MessageListBean messageListBean=DatabaseManager.getInstance().getRepostLineMsgList(accountId);
  MainCommentsTimeLineDao commentDao=new MainCommentsTimeLineDao(token);
  if (commentLineBean.getComments().size() > 0) {
    commentDao.setSince_id(commentLineBean.getComments().get(0).getId());
  }
  try {
    commentResult=commentDao.getGSONMsgList();
  }
 catch (  WeiboException e) {
    this.e=e;
    cancel(true);
    return null;
  }
  if (commentResult != null) {
    map.put("comment",commentResult.getComments().size());
  }
 else {
    cancel(true);
  }
  MainMentionsTimeLineDao mentionDao=new MainMentionsTimeLineDao(token);
  if (messageListBean.getStatuses().size() > 0) {
    mentionDao.setSince_id(messageListBean.getStatuses().get(0).getId());
  }
  try {
    repostResult=mentionDao.getGSONMsgList();
  }
 catch (  WeiboException e) {
    cancel(true);
    return null;
  }
  if (repostResult != null) {
    map.put("repost",repostResult.getStatuses().size());
  }
 else {
    cancel(true);
  }
  return map;
}
