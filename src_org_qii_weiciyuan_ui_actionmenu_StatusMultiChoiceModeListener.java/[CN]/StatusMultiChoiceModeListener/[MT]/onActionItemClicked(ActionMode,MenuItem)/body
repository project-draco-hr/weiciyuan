{
  Intent intent;
  long[] ids=listView.getCheckedItemIds();
switch (item.getItemId()) {
case R.id.menu_repost:
    MessageBean msg=(MessageBean)adapter.getItem(listView.getCheckedItemPositions().keyAt(listView.getCheckedItemCount() - 1) - 1);
  intent=new Intent(getActivity(),RepostNewActivity.class);
intent.putExtra("token",((IToken)getActivity()).getToken());
intent.putExtra("id",String.valueOf(ids[0]));
intent.putExtra("msg",msg);
getActivity().startActivity(intent);
break;
case R.id.menu_comment:
intent=new Intent(getActivity(),CommentNewActivity.class);
intent.putExtra("token",((IToken)getActivity()).getToken());
intent.putExtra("id",String.valueOf(ids[0]));
getActivity().startActivity(intent);
break;
case R.id.menu_fav:
Toast.makeText(getActivity(),"fav",Toast.LENGTH_SHORT).show();
listView.clearChoices();
break;
case R.id.menu_remove:
Toast.makeText(getActivity(),"remove",Toast.LENGTH_SHORT).show();
break;
}
listView.clearChoices();
mode.finish();
return true;
}
