{
  final int height=options.outHeight;
  final int width=options.outWidth;
  int inSampleSize=1;
  if (height > reqHeight || width > reqWidth) {
    if (height > reqHeight && reqHeight != 0) {
      inSampleSize=Math.round((float)height / (float)reqHeight);
    }
    int tmp=0;
    if (width > reqWidth && reqWidth != 0) {
      tmp=Math.round((float)width / (float)reqWidth);
    }
    inSampleSize=Math.max(inSampleSize,tmp);
  }
  return inSampleSize;
}
