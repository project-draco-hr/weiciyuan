{
  if (TextUtils.isEmpty(url)) {
    return;
  }
  if (drawable instanceof BitmapDrawable) {
    BitmapDrawable bitmapDrawable=(BitmapDrawable)drawable;
    final Bitmap bitmap=bitmapDrawable.getBitmap();
    if (bitmap != null) {
      Bitmap blurBitmap=GlobalContext.getInstance().getBitmapCache().get(url + "/blur");
      if (blurBitmap == null) {
        blurThread=new Thread(new Runnable(){
          @Override public void run(){
            final Bitmap createdBlurBitmap=fastBlur(bitmap,radius);
            final Drawable blurDrawable=new BitmapDrawable(getResources(),createdBlurBitmap);
            if (Thread.currentThread().isInterrupted()) {
              return;
            }
            new Handler(Looper.getMainLooper()).post(new Runnable(){
              @Override public void run(){
                GlobalContext.getInstance().getBitmapCache().put(url + "/blur",createdBlurBitmap);
                BlurImageView.super.setImageDrawable(blurDrawable);
              }
            }
);
          }
        }
);
        blurThread.start();
      }
 else {
        final Drawable blurDrawable=new BitmapDrawable(getResources(),blurBitmap);
        BlurImageView.super.setImageDrawable(blurDrawable);
      }
      return;
    }
  }
  super.setImageDrawable(drawable);
}
