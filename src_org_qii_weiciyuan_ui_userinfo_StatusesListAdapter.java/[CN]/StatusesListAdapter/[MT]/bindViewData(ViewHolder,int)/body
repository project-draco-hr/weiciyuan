{
  final MessageBean msg=bean.get(position);
  MessageBean repost_msg=msg.getRetweeted_status();
  if (msg.getUser() != null) {
    holder.username.setVisibility(View.VISIBLE);
    holder.username.setText(msg.getUser().getScreen_name());
    String image_url=msg.getUser().getProfile_image_url();
    if (!TextUtils.isEmpty(image_url) && GlobalContext.getInstance().isEnablePic()) {
      holder.avatar.setVisibility(View.VISIBLE);
      commander.downloadAvatar(holder.avatar,msg.getUser().getProfile_image_url(),position,listView);
    }
 else {
      holder.avatar.setVisibility(View.GONE);
    }
  }
 else {
    holder.username.setVisibility(View.INVISIBLE);
    holder.avatar.setVisibility(View.INVISIBLE);
  }
  holder.content.setTextSize(GlobalContext.getInstance().getFontSize());
  if (!TextUtils.isEmpty(msg.getListViewSpannableString())) {
    holder.content.setText(msg.getListViewSpannableString());
  }
 else {
    ListViewTool.addJustHighLightLinks(msg);
    holder.content.setText(msg.getListViewSpannableString());
  }
  String time=msg.getListviewItemShowTime();
  UpdateString updateString=new UpdateString(time,holder.time,msg,activity);
  if (!holder.time.getText().toString().equals(time)) {
    holder.time.setText(updateString);
  }
  holder.time.setTag(msg.getText());
  holder.repost_content.setVisibility(View.GONE);
  holder.repost_content_pic.setVisibility(View.GONE);
  holder.content_pic.setVisibility(View.GONE);
  if (repost_msg != null) {
    buildRepostContent(repost_msg,holder,position);
  }
 else   if (!TextUtils.isEmpty(msg.getThumbnail_pic()) && GlobalContext.getInstance().isEnablePic()) {
    buildPic(msg,holder.content_pic,position);
  }
  holder.avatar.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      Intent intent=new Intent(activity,UserInfoActivity.class);
      intent.putExtra("token",((IToken)activity).getToken());
      intent.putExtra("user",msg.getUser());
      activity.startActivity(intent);
    }
  }
);
}
