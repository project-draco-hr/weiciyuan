{
  View view=inflater.inflate(R.layout.fragment_listview_layout,container,false);
  empty=(TextView)view.findViewById(R.id.empty);
  progressBar=(ProgressBar)view.findViewById(R.id.progressbar);
  listView=(ListView)view.findViewById(R.id.listView);
  listView.setScrollingCacheEnabled(false);
  headerView=inflater.inflate(R.layout.fragment_listview_header_layout,null);
  listView.addHeaderView(headerView);
  listView.setHeaderDividersEnabled(false);
  footerView=inflater.inflate(R.layout.fragment_listview_footer_layout,null);
  listView.addFooterView(footerView);
  if (bean.getUsers().size() == 0) {
    footerView.findViewById(R.id.listview_footer).setVisibility(View.GONE);
  }
  timeLineAdapter=new UserListAdapter(AbstractUserListFragment.this,((AbstractAppActivity)getActivity()).getCommander(),bean.getUsers(),listView);
  listView.setAdapter(timeLineAdapter);
  listView.setOnItemClickListener(new AdapterView.OnItemClickListener(){
    @Override public void onItemClick(    AdapterView<?> parent,    View view,    int position,    long id){
      if (mActionMode != null) {
        listView.clearChoices();
        mActionMode.finish();
        mActionMode=null;
        return;
      }
      listView.clearChoices();
      if (position - 1 < getList().getUsers().size()) {
        listViewItemClick(parent,view,position - 1,id);
      }
 else {
        listViewFooterViewClick(view);
      }
    }
  }
);
  return view;
}
