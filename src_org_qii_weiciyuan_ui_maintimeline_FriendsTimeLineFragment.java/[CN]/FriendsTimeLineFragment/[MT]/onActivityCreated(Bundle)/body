{
  if (savedInstanceState != null) {
    userBean=(UserBean)savedInstanceState.getSerializable("userBean");
    accountBean=(AccountBean)savedInstanceState.getSerializable("account");
    token=savedInstanceState.getString("token");
    groupDataCache=(HashMap)savedInstanceState.getSerializable("hashmap");
    selectedId=savedInstanceState.getString("selectedId");
    getList().replaceData((MessageListBean)savedInstanceState.getSerializable("bean"));
    timeLineAdapter.notifyDataSetChanged();
    refreshLayout(getList());
  }
 else {
    if (Utility.isTaskStopped(dbTask)) {
      dbTask=new DBCacheTask();
      dbTask.executeOnExecutor(MyAsyncTask.THREAD_POOL_EXECUTOR);
    }
    if (Utility.isTaskStopped(groupTask)) {
      groupTask=new GroupTask(GlobalContext.getInstance().getSpecialToken());
      groupTask.executeOnExecutor(MyAsyncTask.THREAD_POOL_EXECUTOR);
    }
    groupDataCache.put("0",new MessageListBean());
    groupDataCache.put("1",new MessageListBean());
  }
  super.onActivityCreated(savedInstanceState);
}
