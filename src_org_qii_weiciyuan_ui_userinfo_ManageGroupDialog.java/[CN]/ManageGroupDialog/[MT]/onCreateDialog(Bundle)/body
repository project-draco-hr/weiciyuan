{
  if (savedInstanceState != null) {
    group=(GroupListBean)savedInstanceState.getSerializable("group");
    uid=savedInstanceState.getString("uid");
    valueArray=savedInstanceState.getStringArray("valueArray");
    selectedArray=savedInstanceState.getBooleanArray("selectedArray");
    currentList=savedInstanceState.getStringArrayList("currentList");
    addList=savedInstanceState.getStringArrayList("addList");
    removeList=savedInstanceState.getStringArrayList("removeList");
  }
  final List<GroupBean> list=group.getLists();
  selectedArray=new boolean[list.size()];
  List<String> name=new ArrayList<String>();
  for (int i=0; i < list.size(); i++) {
    name.add(list.get(i).getName());
  }
  valueArray=name.toArray(new String[0]);
  AlertDialog.Builder builder=new AlertDialog.Builder(getActivity());
  builder.setTitle(getString(R.string.manage_group));
  builder.setMultiChoiceItems(valueArray,selectedArray,new DialogMultiChoiceClickListener()).setPositiveButton(getString(R.string.save),new DialogInterface.OnClickListener(){
    @Override public void onClick(    DialogInterface dialog,    int which){
      UserInfoActivity activity=(UserInfoActivity)getActivity();
      activity.handleGroup(addList,removeList);
    }
  }
).setNegativeButton(getString(R.string.cancel),new DialogInterface.OnClickListener(){
    @Override public void onClick(    DialogInterface dialog,    int which){
    }
  }
);
  task=new Task();
  task.executeOnExecutor(MyAsyncTask.THREAD_POOL_EXECUTOR);
  return builder.create();
}
