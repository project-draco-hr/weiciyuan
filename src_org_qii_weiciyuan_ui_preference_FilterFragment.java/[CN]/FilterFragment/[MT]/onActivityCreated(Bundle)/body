{
  super.onActivityCreated(savedInstanceState);
  adapter=new FilterAdapter();
  setListAdapter(adapter);
  if (task == null || task.getStatus() == MyAsyncTask.Status.FINISHED) {
    task=new DBTask();
    task.executeOnExecutor(MyAsyncTask.THREAD_POOL_EXECUTOR);
  }
  getListView().setChoiceMode(AbsListView.CHOICE_MODE_MULTIPLE_MODAL);
  getListView().setMultiChoiceModeListener(new FilterMultiChoiceModeListener());
  getListView().setOnItemClickListener(new AdapterView.OnItemClickListener(){
    @Override public void onItemClick(    AdapterView<?> parent,    View view,    int position,    long id){
      ModifyFilterDialog dialog=new ModifyFilterDialog(list.get(position));
      dialog.setTargetFragment(FilterFragment.this,1);
      dialog.show(getFragmentManager(),"");
    }
  }
);
}
