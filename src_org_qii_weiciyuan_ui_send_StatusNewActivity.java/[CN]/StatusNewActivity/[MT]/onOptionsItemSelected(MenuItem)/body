{
switch (item.getItemId()) {
case android.R.id.home:
    savaDraft();
  InputMethodManager imm=(InputMethodManager)getSystemService(Context.INPUT_METHOD_SERVICE);
if (imm.isActive()) imm.toggleSoftInput(InputMethodManager.SHOW_IMPLICIT,InputMethodManager.HIDE_NOT_ALWAYS);
Intent intent=new Intent(this,MainTimeLineActivity.class);
intent.putExtra("account",getAccount());
intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_NEW_TASK);
startActivity(intent);
break;
case R.id.menu_add_gps:
getLocation();
break;
case R.id.menu_add_pic:
addPic();
break;
case R.id.menu_emoticon:
EmotionsDialog dialog=new EmotionsDialog();
dialog.show(getSupportFragmentManager(),"");
break;
case R.id.menu_send:
send();
break;
case R.id.menu_topic:
String ori=content.getText().toString();
String topicTag="##";
content.setText(ori + topicTag);
content.setSelection(content.getText().toString().length() - 1);
break;
}
return true;
}
