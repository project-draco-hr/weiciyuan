{
  int avatarWidth=GlobalContext.getInstance().getResources().getDimensionPixelSize(R.dimen.timeline_avatar_width);
  int avatarHeight=GlobalContext.getInstance().getResources().getDimensionPixelSize(R.dimen.timeline_avatar_height);
  if (!isCancelled()) {
switch (method) {
case avatar_large:
      return ImageTool.getRoundedCornerPic(this.data,avatarWidth,avatarHeight,FileLocationMethod.avatar_large);
case avatar_small:
    return ImageTool.getRoundedCornerPic(this.data,avatarWidth,avatarHeight,FileLocationMethod.avatar_small);
case picture_thumbnail:
  return ImageTool.getThumbnailPictureWithRoundedCorner(data);
case picture_bmiddle:
DisplayMetrics metrics=GlobalContext.getInstance().getDisplayMetrics();
float reSize=GlobalContext.getInstance().getResources().getDisplayMetrics().density;
int height=GlobalContext.getInstance().getResources().getDimensionPixelSize(R.dimen.timeline_pic_high_thumbnail_height);
int width=(int)(metrics.widthPixels - (8 + 8) * reSize);
return ImageTool.getMiddlePictureInTimeLine(data,width,height,null);
}
}
return null;
}
